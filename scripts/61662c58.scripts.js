"use strict";angular.module("devicesManagerApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("devicesManagerApp").controller("MainCtrl",["$scope","$rootScope","$modal",function(a,b,c){b.devices={},b.devicesArr=[],b.numDevices=Object.keys(b.devices).length,a.addDevice=function(a){c.open({templateUrl:"views/addDeviceModal.html",controller:"AddModalCtrl",resolve:{device:function(){return a}}})},a.deleteDevice=function(a){if(a){c.open({templateUrl:"../views/deleteDeviceModal.html",controller:"DeleteModalCtrl",resolve:{device:function(){return a}}})}},a.filterDevices=function(a){var b={};return angular.forEach(a,function(a,c){a.hasOwnProperty(a)||(b[c]=a)}),b}}]),angular.module("devicesManagerApp").controller("AddModalCtrl",["$scope","$rootScope","$modalInstance","device",function(a,b,c,d){a.errors=[],a.deviceName=d,a.title="",a.title=a.deviceName?"Edit device":"Add a new device",a.cancel=function(){c.dismiss()},a.add=function(){a.deviceName&&("undefined"!=typeof d&&d===a.deviceName?c.close():Object.prototype.hasOwnProperty.call(b.devices,a.deviceName)?a.errors.push("Device already exists. Enter different name for device."):(d&&delete b.devices[d],b.devices[a.deviceName]=!0,b.numDevices=Object.keys(b.devices).length,b.devicesArr=$.map(b.devices,function(a,b){return[b]}),c.close()))}}]),angular.module("devicesManagerApp").controller("DeleteModalCtrl",["$scope","$rootScope","$modalInstance","device",function(a,b,c,d){a.errors=[],a.deviceName=d,a.cancel=function(){c.dismiss()},a["delete"]=function(){delete b.devices[a.deviceName],b.numDevices=Object.keys(b.devices).length,b.devicesArr=$.map(b.devices,function(a,b){return[b]}),c.close()}}]);
